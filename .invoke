#!/bin/sh

cmd="$1"
shift

if command -v hatch >/dev/null ; then
    env="${PT_ENV:?PT_ENV required}"
    hatch -q run "$env:$cmd" "$@"
    return
elif [ -x venv/bin/python ] ; then
    PYTHONPATH=. "venv/bin/$cmd" "$@"
    return
else
    echo "Failed to determine executor" >&2
    return 1
fi
