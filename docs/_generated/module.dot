digraph G {
    pad = 0.25;
    concentrate = true;
    ranksep = .5;
    pack = 0;
    rankdir = BT;

    node [style="filled",fontname="ElementaCyr-Bold",margin="0.2,0.0",fontsize=12,shape=folder,width=1.0,height=.5];

    subgraph legend {
        node [fontname="Finlandica",fontsize=14];
        edge [style="invis"];

        legend_title [shape=plain,fontcolor="#000000",fillcolor="none",label="Abstraction level"];

        legend_low [shape=plain,fontcolor="#000000",fillcolor="none",label="Low"];
        legend_high [shape=plain,fontcolor="#000000",fillcolor="none",label="High"];
        icon_low [shape=folder,label="",fillcolor="#5f819d",width=.35,height=.2]
        icon_high [shape=tab,label="",fillcolor="#769440",width=.35,height=.2];
        icon_core [shape=plain,label="☢️",fillcolor=none,width=.35,height=.2];

         legend_low -> legend_title [constraint=1,minlen=1,headport=e];
        legend_high -> legend_low  [constraint=1,minlen=1];
        icon_low -> legend_low [constraint=true,minlen=0];
        icon_high -> legend_high [constraint=true,minlen=0];
        icon_core -> legend_core [constraint=true,minlen=0];
        legend_core [label=" Core",shape=plain,fillcolor=none];
        legend_core -> legend_high [constraint=1,minlen=2];

    }

    pytermor_ansi [group="",fillcolor="#5f819d",fontcolor="#ffffff",label="ansi"];
    pytermor_color [group="",fillcolor="#5f819d",fontcolor="#ffffff",label="color"];
    pytermor_conv [group="",fillcolor="#5f819d",fontcolor="#ffffff",label="conv"];
    pytermor_cval [shape="component",group="",fillcolor="#5e8d87",fontcolor="#ffffff",label="cval"];
    pytermor_filter [shape="tab",group="",fillcolor="#769440",fontcolor="#ffffff",label="filter"];
    pytermor_numfmt [shape="tab",group="",fillcolor="#769440",fontcolor="#ffffff",label="numfmt"];
    pytermor_parser [group="",fillcolor="#5f819d",fontcolor="#ffffff",label="parser"];
    pytermor_renderer [shape="tab",group="",fillcolor="#769440",fontcolor="#ffffff",label="☢️ renderer"];
    pytermor_style [shape="tab",group="",fillcolor="#769440",fontcolor="#ffffff",label="☢️ style"];
    pytermor_template [shape="tab",group="",fillcolor="#769440",fontcolor="#ffffff",label="template"];
    pytermor_term [group="",fillcolor="#5f819d",fontcolor="#ffffff",label="term"];
    pytermor_text [shape="tab",group="",fillcolor="#769440",fontcolor="#ffffff",label="☢️ text"];
    pytermor_ansi -> pytermor_color [group="",fillcolor="#5f819d"];
    pytermor_ansi -> pytermor_cval [group="",shape="component",group="",fillcolor="#5e8d87"];
    pytermor_ansi -> pytermor_parser [group="",fillcolor="#5f819d"];
    pytermor_ansi -> pytermor_renderer [group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_ansi -> pytermor_template [group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_ansi -> pytermor_term [group="",fillcolor="#5f819d"];
    pytermor_color -> pytermor_cval [group="",shape="component",group="",fillcolor="#5e8d87"];
    pytermor_color -> pytermor_renderer [group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_color -> pytermor_style [group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_color -> pytermor_template [group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_color -> pytermor_text [group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_conv -> pytermor_color [group="",fillcolor="#5f819d"];
    pytermor_cval -> pytermor_numfmt [shape="component",group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_cval -> pytermor_style [shape="component",group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_parser -> pytermor_filter [group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_parser -> pytermor_term [group="",fillcolor="#5f819d"];
    pytermor_renderer -> pytermor_text [shape="tab",group="",fillcolor="#769440"];
    pytermor_style -> pytermor_filter [shape="tab",group="",fillcolor="#769440"];
    pytermor_style -> pytermor_numfmt [shape="tab",group="",fillcolor="#769440"];
    pytermor_style -> pytermor_renderer [shape="tab",group="",fillcolor="#769440"];
    pytermor_style -> pytermor_template [shape="tab",group="",fillcolor="#769440"];
    pytermor_style -> pytermor_text [shape="tab",group="",fillcolor="#769440"];
    pytermor_term -> pytermor_filter [group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_term -> pytermor_text [group="",shape="tab",group="",fillcolor="#769440"];
    pytermor_text -> pytermor_numfmt [shape="tab",group="",fillcolor="#769440"];
    pytermor_text -> pytermor_template [shape="tab",group="",fillcolor="#769440"];
}
